(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),o=a(4),s=a(9),i=a(5),c=Object(i.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{initializationState:{type:"UNINITIALIZED"},bundleSource:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BUNDLE_DATA_SOURCE":return e.bundleSource={type:"SINGLE_URL",bundleSourceUrl:t.sourceUrl},e.initializationState={type:"INITIALIZING"},e;case"SET_BUNDLE_DATA_MULTIPLE_SOURCES":return e.bundleSource={type:"MULTIPLE_URLS",prUrl:t.prBundleUrl,baselineUrl:t.baselineBundleUrl},e.initializationState={type:"INITIALIZING"},e;case"SET_BUNDLE_DATA_BLOBS":return e.bundleSource={type:"MULTIPLE_BLOBS",prBlob:t.prBlob,baselineBlob:t.baselineBlob},e.initializationState={type:"INITIALIZING"},e;case"MARK_BUNDLE_DATA_ERROR":return e.initializationState={type:"INITIALIZATION_FAILURE",errorMessage:t.errorMessage},e;case"MARK_BUNDLE_DATA_INITIALIZED":return e.initializationState={type:"INITIALIZED"},e;default:return e}}),u=function(e){return null!==e&&"CompilationError"===e.type},p=a(11),m=a.n(p).a.grammar('\nBundleQuery {\n  Exp\n    = AndExp | OrExp | PrimExp\n\n  AndExp\n    = PrimExp _ ("&"|"&&") _ PrimExp\n\n  OrExp\n    = PrimExp _ ("|"|"||") _ PrimExp\n\n  PrimExp\n    = NotExp | InterpolateExp | IncludesExp | IncludedByExp | pathLiteral | specialCaseLiteral | ParenExp\n\n  ParenExp = "(" _ Exp _ ")"\n\n  InterpolateExp\n    = "interpolate" ParenExp\n\n  NotExp\n    = "not" ParenExp\n\n  IncludedByExp\n    = ("included-by"|"included_by"|"includedby"|"includedBy") _ (pathLiteral | specialCaseLiteral | ParenExp)\n\n  IncludesExp\n    = ("includes") _ Exp\n\n  pathLiteral\n    = ("\'" pathLiteralInternal "\'" "!"? )\n    | ("\\"" pathLiteralInternal "\\"" "!"? )\n\n  pathLiteralInternal\n    = (" "|"@"|alnum|"\\\\"|"/"|"."|":"|"*"|"-"|"_")*\n    \n  specialCaseLiteral\n    = "removed" | "added" | "changed"\n\n    _ = space*\n}\n'),d=m.createSemantics().addOperation("getQueryTree",{Exp:function(e){return e.getQueryTree()},AndExp:function(e,t,a,n,r){return{type:"AND",left:e.getQueryTree(),right:r.getQueryTree()}},OrExp:function(e,t,a,n,r){return{type:"OR",left:e.getQueryTree(),right:r.getQueryTree()}},PrimExp:function(e){return e.getQueryTree()},ParenExp:function(e,t,a,n,r){return a.getQueryTree()},IncludedByExp:function(e,t,a){return{type:"INCLUDEDBY",target:a.getQueryTree()}},IncludesExp:function(e,t,a){return{type:"INCLUDES",target:a.getQueryTree()}},InterpolateExp:function(e,t){return{type:"INTERPOLATE",innerQuery:t.getQueryTree()}},NotExp:function(e,t){return{type:"NOT",innerQuery:t.getQueryTree()}},pathLiteral:function(e,t,a,n){return{type:"FILENAME",caseSensitive:"!"===n.sourceString,fileName:t.sourceString}},specialCaseLiteral:function(e){var t=e.sourceString.toUpperCase();if("ADDED"!==t&&"CHANGED"!==t&&"REMOVED"!==t)throw new Error('specialCaseLiteral had token "'.concat(t,'", not one of ADDED/CHANGED/REMOVED'));return{type:t}}}),E=Object(i.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentFilterText:"",compilationResult:null,lastSucessfulCompilation:null,queryResult:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER_TEXT":e.currentFilterText=t.newFilter,e.compilationResult=function(e){var t=m.match(e);return console.log(t),console.log(t.succeeded()&&d(t)),t.succeeded()?{type:"CompilationSuccess",query:d(t).getQueryTree()}:{type:"CompilationError",message:t.message||""}}(t.newFilter),console.log(e.compilationResult),u(e.compilationResult)||JSON.stringify(e.compilationResult)===JSON.stringify(e.lastSucessfulCompilation)||(console.log("updating last sucessful compilation"),e.lastSucessfulCompilation=e.compilationResult,e.queryResult=null);break;case"SET_QUERY_RESULT":if(null!==e.lastSucessfulCompilation&&JSON.stringify(t.forQuery)!==JSON.stringify(e.lastSucessfulCompilation.query))return console.log("ignoring query result because the last sucessful compilation does not match the query's target"),e;e.queryResult={type:"QUERY_SUCCESS",data:t.resultingGraph,summary:t.summary};break;case"SET_QUERY_ERROR":null!==e.lastSucessfulCompilation&&JSON.stringify(t.forQuery)===JSON.stringify(e.lastSucessfulCompilation.query)&&(e.queryResult={type:"QUERY_ERROR",errorMessage:t.errorMessage});break;default:return e}return e}),y=a(16),b=Object(i.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isHierarchical:!1,shouldStabilize:!1,shouldShowReasonEdges:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GRAPH_OPTIONS":return Object(y.a)({},e,t.options);default:return e}}),h=Object(i.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLeftSidebarOpen:!1,isRightSidebarOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_APP_UI":return Object(y.a)({},e,t.options);default:return e}}),f=Object(i.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TUTORIALS":return t.newTutorials;default:return e}}),g=Object(s.b)({bundleData:c,query:E,graphOptions:b,appUIState:h,tutorials:f}),S=Object(s.c)(g),N=S.dispatch,T=(a(104),function(e){return N({type:"SET_FILTER_TEXT",newFilter:e})}),R=function(e){var t=e.message;return n.createElement("aside",{className:"CompilationError-aside"},t)},I=function(){var e=Object(o.b)(function(e){return{text:e.query.currentFilterText}}).text,t=window.location.protocol+"//"+window.location.host+window.location.pathname+"?q="+encodeURIComponent(e);return n.createElement("a",{className:"QueryEditor-permalink",href:t},"permalink")},L=function(){var e=Object(o.b)(function(e){return{text:e.query.currentFilterText,compilationResult:e.query.compilationResult}}),t=e.text,a=e.compilationResult,r=n.useCallback(function(e){T(e.target.value)},[]);return n.createElement(n.Fragment,null,n.createElement("textarea",{className:"QueryEditor-body",value:t,onChange:r}),n.createElement(I,null),u(a)?n.createElement(R,{message:a.message}):null)},O=a(3),_=(a(105),function(e){return!!e&&"QUERY_ERROR"===e.type}),x=function(e){return!!e&&"QUERY_SUCCESS"===e.type},w=(a(106),a(37)),U=a(15),v=a.n(U),B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.useState(e),a=Object(O.a)(t,2),r=a[0],l=a[1],o=n.useCallback(function(){l(!r)},[r]);return[r,o]},A=(a(107),function(e){var t=e.isClosed,a=e.onClick,r=e.className;return n.createElement("button",{className:v()("ToggleArrow",r),onClick:a},t?"\u25b2":"\u25bc")}),C=function(e){var t=e.percent;return n.createElement("section",{className:"VisGraph-loader"},"Stabilizing..",n.createElement("section",{className:"VisGraph-loader-bar-wrapper"},n.createElement("span",{className:"VisGraph-loader-bar",style:{width:"".concat(t,"%")}})))},Q=function(e){var t=e.graphData,a=n.useRef(null),r=n.useRef(null),l=Object(o.b)(function(e){return e.graphOptions}),s=l.isHierarchical,i=l.shouldStabilize,c=n.useState(0),u=Object(O.a)(c,2),p=u[0],m=u[1],d=n.useState(!i),E=Object(O.a)(d,2),y=E[0],b=E[1],h=B(!1),f=Object(O.a)(h,2),g=f[0],S=f[1];return n.useEffect(function(){if(null!=t&&null!=a.current){var e=(t.nodes&&t.nodes.length||0)+(t.edges&&t.edges.length||0),n=Math.min(50,Math.ceil(500/e));console.log("Stabilization updateInterval",n);var l={configure:{enabled:!0,showButton:!0,container:r.current},physics:{stabilization:{enabled:i,updateInterval:n}},layout:{randomSeed:191006,improvedLayout:!1,hierarchical:{enabled:s,sortMethod:"directed"}},nodes:{shape:"box",shapeProperties:{borderRadius:1}},edges:{arrows:"to"}};console.log("mount vis network",a.current,l),console.log("nodes:",t.nodes&&t.nodes.length),console.log("edges:",t.edges&&t.edges.length);var o=new w.Network(a.current,t,l);return i&&(b(!1),o.on("stabilizationProgress",function(e){var t=e.iterations/e.total*100;m(t)}),o.on("stabilizationIterationsDone",function(){b(!0)})),function(){o.destroy()}}},[t,s,a,i]),n.createElement(n.Fragment,null,n.createElement("section",{className:"VisGraph-vis-graph",ref:a}),n.createElement("button",{className:"VisGraph-config-toggle",onClick:S},"graph config",n.createElement(A,{isClosed:!g})),n.createElement("section",{className:v()("VisGraph-config-container",{"VisGraph-open":g}),ref:r}),y||!i?null:n.createElement(C,{percent:p}))},k=function(){return n.createElement("section",{className:"GraphView-initial-load"},"Fetching and parsing bundle data..")},D=function(e){var t=e.bundleData,a=e.errorMessage,r=function(){var e=t.bundleSource;switch(e.type){case"SINGLE_URL":return n.createElement("p",null,"Url: ",n.createElement("code",null,'"',e.bundleSourceUrl,'"'));case"MULTIPLE_URLS":return n.createElement("p",null,"Bundle url: ",n.createElement("code",null,'"',e.baselineUrl,'"')," ",n.createElement("br",null),"PR url: ",n.createElement("code",null,'"',e.prUrl,'"'));case"MULTIPLE_BLOBS":return n.createElement("p",null,"Local blobs.")}}();return n.createElement("section",{className:"GraphView-error"},n.createElement("h2",null,"Error Loading bundle"),r,n.createElement("pre",null,a))},M=function(){return n.createElement("section",{className:"GraphView-pending"},"Running Query..")},j=function(){return n.createElement("section",{className:"GraphView-empty"},"No Results")},q=function(e){var t=e.message;return n.createElement("section",{className:"GraphView-error"},n.createElement("h2",null,"Error while running query"),n.createElement("pre",null,t))},P=function(e){var t=e.limit,a=e.size,r=e.showAnywayCallback;return n.createElement("section",{className:"Graphview-over-limit"},n.createElement("p",null,a," nodes is greater than default maximum of ",t," nodes."),n.createElement("button",{className:"Graphview-show-anyway-button",onClick:r},"Show Anyway"))},z=function(){var e=Object(o.b)(function(e){return{bundleData:e.bundleData,isPending:null===e.query.queryResult&&null!==e.query.lastSucessfulCompilation,numNodes:Number(x(e.query.queryResult)&&e.query.queryResult.data.nodes&&e.query.queryResult.data.nodes.length),shouldShowReasonEdges:e.graphOptions.shouldShowReasonEdges,queryResult:e.query.queryResult}}),t=e.bundleData,a=e.isPending,r=e.numNodes,l=e.shouldShowReasonEdges,s=e.queryResult,i=n.useState(!1),c=Object(O.a)(i,2),u=c[0],p=c[1],m=n.useCallback(function(){p(!0)},[]);n.useEffect(function(){u&&a&&p(!1)},[u,a]);var d=n.useMemo(function(){return!s||_(s)?null:{nodes:s.data.nodes,edges:l?s.data.reasonChildrenEdges:s.data.dependencyEdges}},[s,l]);return n.createElement("section",{className:"GraphView-host"},"UNINITIALIZED"===t.initializationState.type?n.createElement(k,null):"INITIALIZATION_FAILURE"===t.initializationState.type?n.createElement(D,{bundleData:t,errorMessage:t.initializationState.errorMessage}):a||null==s?n.createElement(M,null):!u&&r>1e3?n.createElement(P,{limit:1e3,size:r,showAnywayCallback:m}):_(s)?n.createElement(q,{message:s.errorMessage}):0===r?n.createElement(j,null):n.createElement(Q,{graphData:d}))},F=(a(108),function(e){var t=e.children;return n.createElement("section",{className:"QuerySidebar-host"},t)}),G=(a(109),function(e){var t=e.exampleName,a=e.exampleBody,r=n.useCallback(function(){T(a)},[a]);return n.createElement("li",{className:"QueryExamples-example",onClick:r},t)}),V=function(){var e=Object(o.b)(function(e){return e.tutorials});return n.createElement(n.Fragment,null,n.createElement("p",{className:"QueryExamples-helptext"},"Click an example to load it in the editor."),e.map(function(e){return n.createElement(G,Object.assign({},e,{key:e.exampleName}))}))},Y=function(){var e=B(),t=Object(O.a)(e,2),a=t[0],r=t[1];return n.createElement("ul",{className:"QueryExamples-wrapper"},n.createElement("h2",{className:"QueryExamples-header",onClick:r},"Examples: ",n.createElement(A,{isClosed:a})),a?null:n.createElement(V,null))},Z=(a(110),function(){return n.createElement("ul",null,n.createElement("li",{className:"QueryTutorial-operator"},n.createElement("span",{className:"QueryTutorial-operator-text"},'"*some/filename.js"'),n.createElement("span",{className:"QueryTutorial-operator-explanation"},"Select files where part of the path matches the text inside the quotes. Case insensitive. Use '*' for a wildcard.")),n.createElement("li",{className:"QueryTutorial-operator"},n.createElement("span",{className:"QueryTutorial-operator-text"},'"some*File.css"!'),n.createElement("span",{className:"QueryTutorial-operator-explanation"},"Case sensitive alternate of the above")),n.createElement("li",{className:"QueryTutorial-operator"},n.createElement("span",{className:"QueryTutorial-operator-text"},"includes ","<subquery>"),n.createElement("span",{className:"QueryTutorial-operator-explanation"},"Select all files which directly or indirectly include any target of the subquery")),n.createElement("li",{className:"QueryTutorial-operator"},n.createElement("span",{className:"QueryTutorial-operator-text"},"included_by ","<subquery>"),n.createElement("span",{className:"QueryTutorial-operator-explanation"},"Select all files which are directly or indirectly included by any target of the subquery")),n.createElement("li",{className:"QueryTutorial-operator"},n.createElement("span",{className:"QueryTutorial-operator-text"},"<A>"," & ","<B>"),n.createElement("span",{className:"QueryTutorial-operator-explanation"},"Select all files in selected by both A and B")),n.createElement("li",{className:"QueryTutorial-operator"},n.createElement("span",{className:"QueryTutorial-operator-text"},"<A>"," | ","<B>"),n.createElement("span",{className:"QueryTutorial-operator-explanation"},"Select all files in selected by either A or B")),n.createElement("li",{className:"QueryTutorial-operator"},n.createElement("span",{className:"QueryTutorial-operator-text"},"removed"),n.createElement("span",{className:"QueryTutorial-operator-explanation"},"Selects all files removed by the change")),n.createElement("li",{className:"QueryTutorial-operator"},n.createElement("span",{className:"QueryTutorial-operator-text"},"added"),n.createElement("span",{className:"QueryTutorial-operator-explanation"},"Selects all files added by the change")),n.createElement("li",{className:"QueryTutorial-operator"},n.createElement("span",{className:"QueryTutorial-operator-text"},"changed"),n.createElement("span",{className:"QueryTutorial-operator-explanation"},"Selects all files that were added, removed, or have size differences")),n.createElement("li",{className:"QueryTutorial-operator"},n.createElement("span",{className:"QueryTutorial-operator-text"},"interpolate( ","<subexpression>"," )"),n.createElement("span",{className:"QueryTutorial-operator-explanation"},"Selects nodes that form paths between nodes in the selected set.")),n.createElement("li",{className:"QueryTutorial-operator"},n.createElement("span",{className:"QueryTutorial-operator-text"},"( ","<subexpression>"," )"),n.createElement("span",{className:"QueryTutorial-operator-explanation"},"Selects the results as the subexpression")))}),H=function(){var e=B(),t=Object(O.a)(e,2),a=t[0],r=t[1];return n.createElement("section",{className:"QueryTutorial-body"},n.createElement("h2",{className:"QueryTutorial-header",onClick:r},"Operators ",n.createElement(A,{isClosed:a})),a?null:n.createElement(Z,null))},J=(a(111),function(e){return N({type:"SET_GRAPH_OPTIONS",options:e})}),K=function(){var e=Object(o.b)(function(e){return e.graphOptions}),t=e.isHierarchical,a=e.shouldStabilize,r=e.shouldShowReasonEdges,l=n.useCallback(function(e){J({isHierarchical:!!e.currentTarget.checked})},[]),s=n.useCallback(function(e){J({shouldStabilize:!!e.currentTarget.checked})},[]),i=n.useCallback(function(e){J({shouldShowReasonEdges:!!e.currentTarget.checked})},[]);return n.createElement("section",{className:"GraphViewOptions-wrapper"},n.createElement("h2",null,"Options:"),n.createElement("label",{className:"GraphViewOptions-label"},n.createElement("input",{type:"checkbox",name:"isHierarchical",onChange:l,checked:t}),"Force Hierarchical Nodes (better for small graphs)"),n.createElement("label",{className:"GraphViewOptions-label"},n.createElement("input",{type:"checkbox",name:"shouldStabilize",onChange:s,checked:a}),"pre-stabilize the network"),n.createElement("label",{className:"GraphViewOptions-label"},n.createElement("input",{type:"checkbox",name:"shouldShowReasonEdges",onChange:i,checked:r}),n.createElement("p",null,"show reason edges (instead of module parentage). ",n.createElement("br",null),"This visualzies actual import dependencies instead of hoisted dependencies. ",n.createElement("br",null),n.createElement("b",null,"This will not work unless you build this into your bundlestats.json ahead of time. see"," ",n.createElement("a",{href:"https://github.com/Adjective-Object/webpack-bundle-diff-add-reasons"},"webpack-bundle-diff-add-reasons")))))},W=(a(112),function(e){if(0===e)return"0";var t=Math.floor(Math.log(e)/Math.log(1024)),a=e/Math.pow(1024,t);return(0===t?a.toString():a.toFixed(2))+["B","kB","MB","GB","TB"][t]}),X=function(e){var t=Math.max(-1,Math.min(1,e/4096));return{backgroundColor:(t<0?"rgba(34, 170, 238, 1)":"rgba(255, 20, 120, 1)").replace(/1\)$/,Math.abs(1-Math.pow(1-t,3)).toString())}},$=function(e){var t=e.name,a=e.size,r=e.className;return n.createElement("tr",{className:r},n.createElement("td",null,t),n.createElement("td",null,a.numFilesAfter),n.createElement("td",{style:X(a.numFilesDelta)},function(e){return e>0?"+".concat(e):"-".concat(Math.abs(e))}(a.numFilesDelta)),n.createElement("td",null,W(a.totalBytesAfter)),n.createElement("td",{style:X(a.totalBytesDelta)},function(e){return e>0?"+".concat(W(e)):"-".concat(W(Math.abs(e)))}(a.totalBytesDelta)))},ee=function(){var e=Object(o.b)(function(e){return x(e.query.queryResult)?e.query.queryResult.summary:null});return null==e?null:n.createElement("section",{className:"BundleSizeSummary-container"},n.createElement("table",{className:"BundleSizeSummary-table"},n.createElement("tbody",null,n.createElement("tr",{className:"BundleSizeSummary-titleRow"},n.createElement("td",null,"Name"),n.createElement("td",null,"# Files"),n.createElement("td",null,"\u0394 Files"),n.createElement("td",null,"Size"),n.createElement("td",null,"\u0394 Size")),n.createElement($,{className:"BundleSizeSummary-totalsRow",name:"Total",size:e.total}),Object.entries(e.packages).sort(function(e,t){var a=Object(O.a)(e,2)[1],n=Object(O.a)(t,2)[1];return Math.abs(n.totalBytesAfter)-Math.abs(a.totalBytesAfter)}).sort(function(e,t){var a=Object(O.a)(e,2)[1],n=Object(O.a)(t,2)[1];return Math.abs(n.totalBytesAfter)-Math.abs(a.totalBytesAfter)}).sort(function(e,t){var a=Object(O.a)(e,2)[1],n=Object(O.a)(t,2)[1];return Math.abs(n.totalBytesDelta)-Math.abs(a.totalBytesDelta)}).map(function(e){var t=Object(O.a)(e,2),a=t[0],r=t[1];return n.createElement($,{name:a,size:r})}))))},te=(a(113),function(e){return N({type:"SET_BUNDLE_DATA_SOURCE",sourceUrl:e})}),ae=function(e){var t=e.fileLoader,a=e.children;return n.createElement("section",{className:"BundleLoaderView-FileLoaderView"},a,n.createElement("input",{type:"file",accept:"application/json",onChange:t.onChange}),t.isLoading&&n.createElement("span",{className:"BundleLoaderView-loading"},"Loading..."),null!==t.fileContent&&n.createElement("span",{className:"BundleLoaderView-loaded"},"Loaded!"),t.loadError&&n.createElement("span",{className:"BundleLoaderView-error"},t.loadError.toString()))},ne=function(){var e=n.useState(!1),t=Object(O.a)(e,2),a=t[0],r=t[1],l=n.useState(null),o=Object(O.a)(l,2),s=o[0],i=o[1],c=n.useState(null),u=Object(O.a)(c,2),p=u[0],m=u[1];return{isLoading:a,fileContent:s,onChange:n.useCallback(function(e){var t=e.target.files;if(t&&1===t.length){r(!0);var a=new FileReader;a.readAsText(t[0]),a.onload=function(e){r(!1),e.target&&"string"===typeof a.result&&i(a.result)},a.onerror=function(e){r(!1),a&&m(a.error)}}},[]),loadError:p}},re=function(){var e=ne(),t=ne(),a=Object(o.b)(function(e){return"UNINITIALIZED"===e.bundleData.initializationState.type});n.useEffect(function(){var n,r;a&&e.fileContent&&t.fileContent&&(n=e.fileContent,r=t.fileContent,N({type:"SET_BUNDLE_DATA_BLOBS",baselineBlob:n,prBlob:r}))},[a,e.fileContent,t.fileContent]);var r=n.useCallback(function(){te("./demo-stats.json")},[]);return n.createElement("section",{className:"BundleLoaderView-wrapper"},n.createElement("section",{className:"BundleLoaderView-files"},n.createElement(ae,{fileLoader:e},"Baseline: "),n.createElement(ae,{fileLoader:t},"Pull Request: ")),n.createElement("button",{className:"BundleLoaderView-demoDataButton",onClick:r},"Use Demo Data"))},le=(a(114),function(e){return N({type:"SET_APP_UI",options:e})}),oe=function(){var e=Object(o.b)(function(e){return{isLeftOpen:e.appUIState.isLeftSidebarOpen,isRightOpen:e.appUIState.isRightSidebarOpen,hasBundleSource:"UNINITIALIZED"!==e.bundleData.initializationState.type}}),t=e.isLeftOpen,a=e.isRightOpen,n=e.hasBundleSource,l=r.a.useCallback(function(){le({isLeftSidebarOpen:!t})},[t]),s=r.a.useCallback(function(){le({isRightSidebarOpen:!a})},[a]);return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(A,{className:"App-toggle",isClosed:t,onClick:l}),r.a.createElement("h1",null,"Bundle Size Explorer"),r.a.createElement(A,{className:"App-toggle",isClosed:a,onClick:s})),r.a.createElement("section",{className:"App-body"},n?r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(ee,null),r.a.createElement(z,null),a&&r.a.createElement(F,null,r.a.createElement(L,null),r.a.createElement(K,null),r.a.createElement(Y,null),r.a.createElement(H,null))):r.a.createElement(re,null)))},se=a(38),ie=a.n(se),ce=a(39),ue=a.n(ce),pe=null;S.subscribe(function(){var e=S.getState().query.lastSucessfulCompilation;pe!==e&&(pe=e,e&&!u(e)&&me({type:"QUERY_REQUEST",query:e.query}))});var me=ue()(function(e){return he.postMessage(e)},300),de=new URLSearchParams(window.location.search);de.sort(),S.subscribe(function(){var e=function(e){var t=new URLSearchParams;if(e.appUIState.isLeftSidebarOpen||t.set("lc",""),e.appUIState.isRightSidebarOpen||t.set("rc",""),t.set("q",e.query.currentFilterText),e.graphOptions.isHierarchical&&t.set("hi",""),e.graphOptions.shouldStabilize&&t.set("stab",""),e.bundleData.bundleSource){var a=e.bundleData.bundleSource;switch(a.type){case"SINGLE_URL":t.set("bundle",a.bundleSourceUrl);break;case"MULTIPLE_URLS":t.set("pr_bundle",a.prUrl),t.set("base_bundle",a.baselineUrl)}}return t.sort(),t}(S.getState());if(e.toString()!==de.toString()){de=e;var t=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+e.toString().replace(/=&/g,"&").replace(/=$/g,"");window.history.pushState(null,document.title,t)}});var Ee=!1;S.subscribe(function(){var e=S.getState().bundleData;if(!Ee&&e.bundleSource&&"INITIALIZING"===e.initializationState.type){switch(e.bundleSource.type){case"SINGLE_URL":he.postMessage({type:"INIT_STORE_FROM_URL",payloadUrl:e.bundleSource.bundleSourceUrl});break;case"MULTIPLE_URLS":he.postMessage({type:"INIT_STORE_FROM_MULTI_URL",prUrl:e.bundleSource.prUrl,baselineUrl:e.bundleSource.baselineUrl});break;case"MULTIPLE_BLOBS":he.postMessage({type:"INIT_STORE_FROM_BUNDLE_STATS_STRINGS",baselineString:e.bundleSource.baselineBlob,prString:e.bundleSource.prBlob})}Ee=!0}});var ye=function(e){return N({type:"SET_TUTORIALS",newTutorials:e})},be=[{exampleName:"Added Files",exampleBody:"added"},{exampleName:"Removed Files",exampleBody:"removed"},{exampleName:"Changed Files",exampleBody:"changed"},{exampleName:"Package 1",exampleBody:"'package1/lib'"},{exampleName:"Package 1 and Package 2",exampleBody:"'package1/lib'\n  | 'package2/lib' "},{exampleName:"Json files in package 1",exampleBody:"'package1/*json'\n "},{exampleName:"package1 files that include the current changes",exampleBody:"includes changed & 'package1'"},{exampleName:"packages indexes included by Package 1",exampleBody:"(included_by '*package1*') & '*index.js*'"},{exampleName:"packages included by package 1, tracing dependenices",exampleBody:"interpolate( (included_by '*package1*') & '*index.js*' )"}];a.d(t,"appWorker",function(){return he});var he=new ie.a;he.onmessage=function(e){var t,a,n,r,l=e.data;switch(console.log("App: Message received from worker script",l),l.type){case"STORE_LOADED":N({type:"MARK_BUNDLE_DATA_INITIALIZED"});var o=S.getState().query.compilationResult;o&&"CompilationSuccess"===o.type&&he.postMessage({type:"QUERY_REQUEST",query:o.query});break;case"STORE_LOAD_ERROR":r=l.errorMessage,N({type:"MARK_BUNDLE_DATA_ERROR",errorMessage:r});break;case"QUERY_RESULT":t=l.forQuery,a=l.result,n=l.summary,N({type:"SET_QUERY_RESULT",forQuery:t,resultingGraph:a,summary:n});break;case"QUERY_ERROR":!function(e,t){N({type:"SET_QUERY_ERROR",forQuery:e,errorMessage:t})}(l.forQuery,l.errorMessage)}};var fe=new URLSearchParams(window.location.search),ge=fe.get("q")||"changed";ge&&T(ge),J({isHierarchical:!!fe.has("hi"),shouldStabilize:!!fe.has("stab")}),le({isLeftSidebarOpen:!(fe.has("lc")||window.innerWidth<1e3),isRightSidebarOpen:!fe.has("rc")});var Se=fe.get("bundle"),Ne=fe.get("pr_bundle"),Te=fe.get("baseline_bundle");if(Se){te(Se);var Re={type:"INIT_STORE_FROM_URL",payloadUrl:Se};he.postMessage(Re)}else if(Ne&&Te){N({type:"SET_BUNDLE_DATA_MULTIPLE_SOURCES",baselineBundleUrl:Te,prBundleUrl:Ne});var Ie={type:"INIT_STORE_FROM_MULTI_URL",prUrl:Ne,baselineUrl:Te};he.postMessage(Ie)}fetch("./tutorial_examples.json").then(function(e){return e.json()}).then(function(e){return ye(e)}).catch(function(e){return ye(be)});var Le=document.getElementById("root");l.render(n.createElement(o.a,{store:S},n.createElement(oe,null)),Le)},38:function(e,t,a){e.exports=function(){return new Worker(a.p+"0d9965686a45607004f2.worker.js")}},40:function(e,t,a){e.exports=a(123)}},[[40,1,2]]]);
//# sourceMappingURL=main.11e5f494.chunk.js.map